---
title: "Flutter: CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€"
emoji: "ğŸ¦"
type: "tech"
topics: ["flutter", "dart"]
published: false
---

Flutterã§ã‚ã‚‰ã‹ã˜ã‚CSVå½¢å¼ã§ç”¨æ„ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ å†…ã§èª­ã¿è¾¼ã‚“ã§ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã€å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã—ã¦ãŠãã¾ã™ã€‚
ä»Šå›ã¯assetsã‚’åˆ©ç”¨ã—ãŸæ–¹æ³•ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã„ãã¾ã™ã€‚

## èª­ã¿è¾¼ã‚€ãƒ‡ãƒ¼ã‚¿
```csv:keyaki.csv
1,çŸ³æ£®è™¹èŠ±,1997å¹´5æœˆ7æ—¥,å®®åŸçœŒ,1æœŸ 
2,ä¸Šæ‘è‰èœ,1997å¹´1æœˆ4æ—¥,åƒè‘‰çœŒ,1æœŸ 
3,å°¾é–¢æ¢¨é¦™,1997å¹´10æœˆ7æ—¥,ç¥å¥ˆå·çœŒ,1æœŸ 
4,å°æ± ç¾æ³¢,1998å¹´11æœˆ14æ—¥,å…µåº«çœŒ,1æœŸ 
5,å°æ—ç”±ä¾,1999å¹´10æœˆ23æ—¥,åŸ¼ç‰çœŒ,1æœŸ 
6,é½‹è—¤å†¬å„ªèŠ±,1998å¹´2æœˆ15æ—¥,æ±äº¬éƒ½,1æœŸ 
7,ä½è—¤è©©ç¹”,1996å¹´11æœˆ16æ—¥,æ±äº¬éƒ½,1æœŸ 
8,è…äº•å‹é¦™,1995å¹´11æœˆ29æ—¥,æ±äº¬éƒ½,1æœŸ 
9,åœŸç”Ÿç‘ç©‚,1997å¹´7æœˆ7æ—¥,æ±äº¬éƒ½,1æœŸ 
10,åŸç”°è‘µ,2000å¹´5æœˆ7æ—¥,æ±äº¬éƒ½,1æœŸ 
11,å®ˆå±‹èŒœ,1997å¹´11æœˆ12æ—¥,å®®åŸçœŒ,1æœŸ 
12,æ¸¡è¾ºæ¢¨åŠ ,1995å¹´5æœˆ16æ—¥,èŒ¨åŸçœŒ,1æœŸ 
13,æ¸¡é‚‰ç†ä½,1998å¹´7æœˆ27æ—¥,èŒ¨åŸçœŒ,1æœŸ 
14,äº•ä¸Šæ¢¨å,2001å¹´1æœˆ29æ—¥,å…µåº«çœŒ,2æœŸ 
15,é–¢æœ‰ç¾å­,1998å¹´6æœˆ29æ—¥,ç¦å²¡çœŒ,2æœŸ 
16,æ­¦å…ƒå”¯è¡£,2002å¹´3æœˆ23æ—¥,æ»‹è³€çœŒ,2æœŸ 
17,ç”°æ‘ä¿ä¹ƒ,1998å¹´10æœˆ21æ—¥,,å¤§é˜ªåºœ,2æœŸ 
18,è—¤å‰å¤éˆ´,2001å¹´8æœˆ29æ—¥,å¤§é˜ªåºœ,2æœŸ 
19,æ¾ç”°é‡Œå¥ˆ,1999å¹´10æœˆ13æ—¥,å®®å´çœŒ,2æœŸ 
20,æ¾å¹³ç’ƒå­,1998å¹´5æœˆ5æ—¥,æ±äº¬éƒ½,2æœŸ 
21,æ£®ç”°ã²ã‹ã‚‹,2001å¹´7æœˆ10æ—¥,ç¦å²¡çœŒ,2æœŸ 
22,å±±ï¨‘å¤©,2005å¹´9æœˆ28æ—¥,å¤§é˜ªåºœ,2æœŸ 
23,é è—¤å…‰è‰,1999å¹´4æœˆ17æ—¥,ç¥å¥ˆå·çœŒ,2æœŸ 
24,å¤§åœ’ç²,2000å¹´4æœˆ18æ—¥,é¹¿å…å³¶çœŒ,2æœŸ 
25,å¤§æ²¼æ™¶ä¿,1999å¹´10æœˆ12æ—¥,é™å²¡çœŒ,2æœŸ 
26,å¹¸é˜ªèŒ‰é‡Œä¹ƒ,2002å¹´12æœˆ19æ—¥,ä¸‰é‡çœŒ,2æœŸ 
27,å¢—æœ¬ç¶ºè‰¯,2002å¹´1æœˆ12æ—¥,å…µåº«çœŒ,2æœŸ 
28,å®ˆå±‹éº—å¥ˆ,2000å¹´1æœˆ2æ—¥,æ±äº¬éƒ½,2æœŸ
```



## ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
```dart:csv_data.dart
class CsvData {
  CsvData({
    required this.id, 
    required this.name, 
    required this.birthday, 
    required this.place, 
    required this.team
  }); 

  int id; 
  String name; 
  String birthday; 
  String place; 
  String team; 
}
```

```dart
import 'package:flutter/services.dart'; 
import 'package:keyaki_app/data/csv_data.dart'; 

Future<List<CsvData>> getCsvData(String path) async { 
  // æˆ»ã‚Šå€¤ã‚’ç”Ÿæˆ 
  List<CsvData> list = []; 
  
  // csvãƒ‡ãƒ¼ã‚¿ã‚’å…¨ã¦èª­ã¿è¾¼ã‚€ 
  String csv = await rootBundle.loadString(path); 
  
  // csvãƒ‡ãƒ¼ã‚¿ã‚’1è¡Œãšã¤å‡¦ç†ã™ã‚‹ 
  for (String line in csv.split("\r\n")) { 
    // ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§å„åˆ—ã®ãƒ‡ãƒ¼ã‚¿ã‚’é…åˆ—ã«æ ¼ç´ 
    List rows = line.split(','); 
    
    // csvãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆ 
    CsvData rowData = CsvData( 
      id: int.parse(rows[0]), 
      name: rows[1], 
      birthday: rows[2], 
      place: rows[3], 
      team: rows[4] 
    ); 
    
    // csvãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚¹ãƒˆã«æ ¼ç´ 
    list.add(rowData); 
  }
  
  return list; 
}
```

## è§£èª¬
assetsã®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚

1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«ã€ã€Œassetsã€ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¾ã™ã€‚
1. assetsã®ä¸­ã«ã€ã€Œkeyaki.csvã€ã‚’æ ¼ç´ã—ã¾ã™ã€‚
1. ã€Œpubspec.yamlã€ã«ã€assetsã‚’è¿½è¨˜ã—ã¾ã™ã€‚

```yaml:pubspec.yaml
flutter: 
  assets: 
    - assets/keyaki.csv
```





